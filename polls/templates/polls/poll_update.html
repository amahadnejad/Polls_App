{% extends '_base.html' %}
{% load crispy_forms_tags %}

{% block page_title %}Edit Poll{% endblock page_title %}

{% block content %}
<div class="container mt-5">
    <div class="row justify-content-center align-items-center">

        <!-- Image Column (Left) -->
        <div class="col-md-6 text-center">
            {% if poll.cover %}
                <img src="{{ poll.cover.url }}" class="img-fluid rounded shadow" alt="Poll Image" loading="lazy">
            {% else %}
                <img src="https://placehold.co/400x250" class="img-fluid rounded shadow" alt="Placeholder Image">
            {% endif %}
        </div>

        <!-- Form Column (Right) -->
        <div class="col-md-6">
            <div class="card shadow-lg p-4 rounded-4">
                <div class="text-center mb-3">
                    <h2 class="fw-bold text-primary">Edit Poll</h2>
                    <p class="text-muted">Update the details of your poll below.</p>
                </div>
                <form method="POST" enctype="multipart/form-data">
                    {% csrf_token %}
                    <div class="mb-3">
                        {{ form|crispy }}
                    </div>
                    <button type="submit" class="btn btn-primary w-100 fw-bold">Update Poll</button>
                    <a href="{{ poll.get_absolute_url }}" class="btn btn-outline-secondary w-100 mt-2">Cancel</a>
                </form>
            </div>
        </div>

    </div>
</div>
{% endblock content %}
